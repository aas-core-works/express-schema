FunctionDeclaration(
  position=1:1,
  identifier='validateDataSet',
  formal_parameters=[
      FormalParameter(
        position=2:9,
        identifiers=['dataSet'],
        of_type=ConformantListType(
            position=2:19,
            bound_spec=BoundSpec(
                position=2:24,
                lower=IntegerLiteral(
                    position=2:25,
                    value=1
                  ),
                upper=IndeterminateLiteral(
                    position=2:27
                  )
              ),
            unique=False,
            of=NamedType(
                position=2:33,
                reference='DataRecord'
              )
          )
      ),
      FormalParameter(
        position=3:9,
        identifiers=['validationRules'],
        of_type=ConformantSetType(
            position=3:27,
            bound_spec=BoundSpec(
                position=3:31,
                lower=IntegerLiteral(
                    position=3:32,
                    value=1
                  ),
                upper=IntegerLiteral(
                    position=3:34,
                    value=10
                  )
              ),
            of=NamedType(
                position=3:41,
                reference='ValidationRule'
              )
          )
      )
    ],
  return_type=NamedType(
      position=4:9,
      reference='ValidationResult'
    ),
  head=AlgorithmHead(
      declarations=[
          TypeDeclaration(
            position=5:5,
            identifier='ValidationStatus',
            type_selection=EnumType(
                position=5:29,
                values=[
                    'passed',
                    'failed',
                    'warning'
                  ]
              ),
            domain_rules=[]
          ),
          EntityDeclaration(
            position=9:5,
            identifier='ValidationResult',
            explicit_clauses=[
                ExplicitAttributeDefinition(
                  position=10:9,
                  attributes=[NameRef(
                      position=10:9,
                      identifier='status'
                    )],
                  optional=False,
                  type_selection=NamedType(
                      position=10:18,
                      reference='ValidationStatus'
                    )
                ),
                ExplicitAttributeDefinition(
                  position=11:9,
                  attributes=[NameRef(
                      position=11:9,
                      identifier='errorCount'
                    )],
                  optional=False,
                  type_selection=IntegerType(
                      position=11:22
                    )
                ),
                ExplicitAttributeDefinition(
                  position=12:9,
                  attributes=[NameRef(
                      position=12:9,
                      identifier='warningCount'
                    )],
                  optional=False,
                  type_selection=IntegerType(
                      position=12:24
                    )
                )
              ],
            derive_clauses=[],
            inverse_clauses=[],
            unique_rules=[],
            domain_rules=[]
          )
        ],
      constant_definitions=[
          ConstantDefinition(
            position=16:9,
            identifier='maxErrors',
            type_selection=IntegerType(
                position=16:21
              ),
            init=IntegerLiteral(
                position=16:32,
                value=5
              )
          ),
          ConstantDefinition(
            position=17:9,
            identifier='maxWarnings',
            type_selection=IntegerType(
                position=17:23
              ),
            init=IntegerLiteral(
                position=17:34,
                value=20
              )
          )
        ],
      local_variable_definitions=[
          LocalVariableDefinition(
            position=21:9,
            identifiers=['result'],
            of_type=NamedType(
                position=21:18,
                reference='ValidationResult'
              )
          ),
          LocalVariableDefinition(
            position=22:9,
            identifiers=['currentRecord'],
            of_type=NamedType(
                position=22:25,
                reference='DataRecord'
              )
          ),
          LocalVariableDefinition(
            position=23:9,
            identifiers=['currentRule'],
            of_type=NamedType(
                position=23:23,
                reference='ValidationRule'
              )
          ),
          LocalVariableDefinition(
            position=24:9,
            identifiers=[
                'i',
                'j'
              ],
            of_type=IntegerType(
                position=24:16
              )
          ),
          LocalVariableDefinition(
            position=25:9,
            identifiers=['ruleResult'],
            of_type=BooleanType(
                position=25:22
              )
          )
        ]
    ),
  body=[
      AssignmentStmt(
        position=28:5,
        target=AttributeRef(
            position=28:5,
            source=NameRef(
                position=28:5,
                identifier='result'
              ),
            identifier='status'
          ),
        value=NameRef(
            position=28:22,
            identifier='passed'
          )
      ),
      AssignmentStmt(
        position=29:5,
        target=AttributeRef(
            position=29:5,
            source=NameRef(
                position=29:5,
                identifier='result'
              ),
            identifier='errorCount'
          ),
        value=IntegerLiteral(
            position=29:26,
            value=0
          )
      ),
      AssignmentStmt(
        position=30:5,
        target=AttributeRef(
            position=30:5,
            source=NameRef(
                position=30:5,
                identifier='result'
              ),
            identifier='warningCount'
          ),
        value=IntegerLiteral(
            position=30:28,
            value=0
          )
      ),
      RepeatStmt(
        position=32:5,
        control=RepeatControl(
            position=32:12,
            increment_control=IncrementControl(
                position=32:12,
                variable='i',
                bound_1=IntegerLiteral(
                    position=32:17,
                    value=1
                  ),
                bound_2=Call(
                    position=32:22,
                    callee=NameRef(
                        position=32:22,
                        identifier='SIZEOF'
                      ),
                    args=[Arg(
                        position=32:29,
                        value=NameRef(
                            position=32:29,
                            identifier='dataSet'
                          )
                      )]
                  )
              )
          ),
        body=[
            AssignmentStmt(
              position=33:9,
              target=NameRef(
                  position=33:9,
                  identifier='currentRecord'
                ),
              value=IndexExpr(
                  position=33:26,
                  source=NameRef(
                      position=33:26,
                      identifier='dataSet'
                    ),
                  index=NameRef(
                      position=33:34,
                      identifier='i'
                    )
                )
            ),
            RepeatStmt(
              position=34:9,
              control=RepeatControl(
                  position=34:16,
                  increment_control=IncrementControl(
                      position=34:16,
                      variable='j',
                      bound_1=IntegerLiteral(
                          position=34:21,
                          value=1
                        ),
                      bound_2=Call(
                          position=34:26,
                          callee=NameRef(
                              position=34:26,
                              identifier='SIZEOF'
                            ),
                          args=[Arg(
                              position=34:33,
                              value=NameRef(
                                  position=34:33,
                                  identifier='validationRules'
                                )
                            )]
                        )
                    )
                ),
              body=[
                  AssignmentStmt(
                    position=35:13,
                    target=NameRef(
                        position=35:13,
                        identifier='currentRule'
                      ),
                    value=IndexExpr(
                        position=35:28,
                        source=NameRef(
                            position=35:28,
                            identifier='validationRules'
                          ),
                        index=NameRef(
                            position=35:44,
                            identifier='j'
                          )
                      )
                  ),
                  AssignmentStmt(
                    position=36:13,
                    target=NameRef(
                        position=36:13,
                        identifier='ruleResult'
                      ),
                    value=Call(
                        position=36:27,
                        callee=NameRef(
                            position=36:27,
                            identifier='applyValidationRule'
                          ),
                        args=[
                            Arg(
                              position=36:47,
                              value=NameRef(
                                  position=36:47,
                                  identifier='currentRecord'
                                )
                            ),
                            Arg(
                              position=36:62,
                              value=NameRef(
                                  position=36:62,
                                  identifier='currentRule'
                                )
                            )
                          ]
                      )
                  ),
                  IfStmt(
                    position=37:13,
                    condition=UnaryExpr(
                        position=37:16,
                        op=UnaryOp.NOT,
                        operand=NameRef(
                            position=37:20,
                            identifier='ruleResult'
                          )
                      ),
                    then=[
                        AssignmentStmt(
                          position=38:17,
                          target=AttributeRef(
                              position=38:17,
                              source=NameRef(
                                  position=38:17,
                                  identifier='result'
                                ),
                              identifier='errorCount'
                            ),
                          value=BinaryExpr(
                              position=38:38,
                              left=AttributeRef(
                                  position=38:38,
                                  source=NameRef(
                                      position=38:38,
                                      identifier='result'
                                    ),
                                  identifier='errorCount'
                                ),
                              op=BinaryOp.ADD,
                              right=IntegerLiteral(
                                  position=38:58,
                                  value=1
                                )
                            )
                        ),
                        IfStmt(
                          position=39:17,
                          condition=BinaryExpr(
                              position=39:20,
                              left=AttributeRef(
                                  position=39:20,
                                  source=NameRef(
                                      position=39:20,
                                      identifier='result'
                                    ),
                                  identifier='errorCount'
                                ),
                              op=BinaryOp.GREATER_THAN,
                              right=NameRef(
                                  position=39:40,
                                  identifier='maxErrors'
                                )
                            ),
                          then=[AssignmentStmt(
                              position=40:21,
                              target=AttributeRef(
                                  position=40:21,
                                  source=NameRef(
                                      position=40:21,
                                      identifier='result'
                                    ),
                                  identifier='status'
                                ),
                              value=NameRef(
                                  position=40:38,
                                  identifier='failed'
                                )
                            )],
                          or_else=[]
                        )
                      ],
                    or_else=[]
                  )
                ]
            )
          ]
      ),
      ReturnStmt(
        position=46:5,
        value=NameRef(
            position=46:12,
            identifier='result'
          )
      )
    ]
)