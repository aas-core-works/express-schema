FunctionDeclaration(
  position=1:1,
  identifier='complexProcessing',
  formal_parameters=[],
  return_type=RealType(
      position=1:32
    ),
  head=AlgorithmHead(
      declarations=[
          TypeDeclaration(
            position=2:5,
            identifier='ProcessingMode',
            type_selection=EnumType(
                position=2:27,
                values=[
                    'fast',
                    'normal',
                    'detailed'
                  ]
              ),
            domain_rules=[]
          ),
          EntityDeclaration(
            position=6:5,
            identifier='ProcessingState',
            explicit_clauses=[
                ExplicitAttributeDefinition(
                  position=7:9,
                  attributes=[NameRef(
                      position=7:9,
                      identifier='mode'
                    )],
                  optional=False,
                  type_selection=NamedType(
                      position=7:16,
                      reference='ProcessingMode'
                    )
                ),
                ExplicitAttributeDefinition(
                  position=8:9,
                  attributes=[NameRef(
                      position=8:9,
                      identifier='progress'
                    )],
                  optional=False,
                  type_selection=RealType(
                      position=8:20
                    )
                )
              ],
            derive_clauses=[],
            inverse_clauses=[],
            unique_rules=[],
            domain_rules=[]
          )
        ],
      constant_definitions=[ConstantDefinition(
          position=12:9,
          identifier='defaultMode',
          type_selection=NamedType(
              position=12:23,
              reference='ProcessingMode'
            ),
          init=NameRef(
              position=12:41,
              identifier='normal'
            )
        )],
      local_variable_definitions=[
          LocalVariableDefinition(
            position=16:9,
            identifiers=['state'],
            of_type=NamedType(
                position=16:17,
                reference='ProcessingState'
              )
          ),
          LocalVariableDefinition(
            position=17:9,
            identifiers=['result'],
            of_type=RealType(
                position=17:18
              ),
            init=RealLiteral(
                position=17:26,
                value=0.0
              )
          )
        ]
    ),
  body=[
      AssignmentStmt(
        position=20:5,
        target=AttributeRef(
            position=20:5,
            source=NameRef(
                position=20:5,
                identifier='state'
              ),
            identifier='mode'
          ),
        value=NameRef(
            position=20:19,
            identifier='defaultMode'
          )
      ),
      AssignmentStmt(
        position=21:5,
        target=AttributeRef(
            position=21:5,
            source=NameRef(
                position=21:5,
                identifier='state'
              ),
            identifier='progress'
          ),
        value=RealLiteral(
            position=21:23,
            value=0.0
          )
      ),
      AssignmentStmt(
        position=22:5,
        target=NameRef(
            position=22:5,
            identifier='result'
          ),
        value=Call(
            position=22:15,
            callee=NameRef(
                position=22:15,
                identifier='performProcessing'
              ),
            args=[Arg(
                position=22:33,
                value=NameRef(
                    position=22:33,
                    identifier='state'
                  )
              )]
          )
      ),
      ReturnStmt(
        position=24:5,
        value=NameRef(
            position=24:12,
            identifier='result'
          )
      )
    ]
)