AlgorithmHead(
  declarations=[
      TypeDeclaration(
        position=1:1,
        identifier='ProcessingState',
        type_selection=EnumType(
            position=1:24,
            values=[
                'idle',
                'processing',
                'completed',
                'failed'
              ]
          ),
        domain_rules=[]
      ),
      TypeDeclaration(
        position=5:1,
        identifier='ValidationRule',
        type_selection=SelectType(
            position=5:23,
            values=[
                NamedType(
                  position=6:5,
                  reference='RangeRule'
                ),
                NamedType(
                  position=7:5,
                  reference='PatternRule'
                ),
                NamedType(
                  position=8:5,
                  reference='CustomRule'
                )
              ]
          ),
        domain_rules=[]
      ),
      EntityDeclaration(
        position=11:1,
        identifier='DataProcessor',
        explicit_clauses=[
            ExplicitAttributeDefinition(
              position=12:5,
              attributes=[NameRef(
                  position=12:5,
                  identifier='state'
                )],
              optional=False,
              type_selection=NamedType(
                  position=12:13,
                  reference='ProcessingState'
                )
            ),
            ExplicitAttributeDefinition(
              position=13:5,
              attributes=[NameRef(
                  position=13:5,
                  identifier='validationRules'
                )],
              optional=False,
              type_selection=SetType(
                  position=13:23,
                  bound_spec=BoundSpec(
                      position=13:27,
                      lower=IntegerLiteral(
                          position=13:28,
                          value=1
                        ),
                      upper=IntegerLiteral(
                          position=13:30,
                          value=10
                        )
                    ),
                  of=NamedType(
                      position=13:37,
                      reference='ValidationRule'
                    )
                )
            ),
            ExplicitAttributeDefinition(
              position=14:5,
              attributes=[NameRef(
                  position=14:5,
                  identifier='lastProcessed'
                )],
              optional=False,
              type_selection=RealType(
                  position=14:21
                )
            )
          ],
        derive_clauses=[],
        inverse_clauses=[],
        unique_rules=[],
        domain_rules=[]
      ),
      FunctionDeclaration(
        position=17:1,
        identifier='createProcessor',
        formal_parameters=[],
        return_type=NamedType(
            position=17:30,
            reference='DataProcessor'
          ),
        head=AlgorithmHead(
            declarations=[],
            constant_definitions=[],
            local_variable_definitions=[LocalVariableDefinition(
                position=19:9,
                identifiers=['processor'],
                of_type=NamedType(
                    position=19:21,
                    reference='DataProcessor'
                  )
              )]
          ),
        body=[ReturnStmt(
            position=21:5,
            value=NameRef(
                position=21:12,
                identifier='processor'
              )
          )]
      ),
      ProcedureDeclaration(
        position=24:1,
        identifier='validateData',
        formal_parameters=[
            FormalParameter(
              position=24:24,
              identifiers=['processor'],
              of_type=NamedType(
                  position=24:36,
                  reference='DataProcessor'
                )
            ),
            FormalParameter(
              position=24:51,
              identifiers=['data'],
              of_type=ConformantArrayType(
                  position=24:58,
                  bound_spec=BoundSpec(
                      position=24:64,
                      lower=IntegerLiteral(
                          position=24:65,
                          value=1
                        ),
                      upper=IndeterminateLiteral(
                          position=24:67
                        )
                    ),
                  optional=False,
                  unique=False,
                  of=RealType(
                      position=24:73
                    )
                )
            )
          ],
        head=AlgorithmHead(
            declarations=[],
            constant_definitions=[],
            local_variable_definitions=[
                LocalVariableDefinition(
                  position=26:9,
                  identifiers=['validationResult'],
                  of_type=BooleanType(
                      position=26:28
                    )
                ),
                LocalVariableDefinition(
                  position=27:9,
                  identifiers=['i'],
                  of_type=IntegerType(
                      position=27:13
                    )
                )
              ]
          ),
        body=[RepeatStmt(
            position=30:5,
            control=RepeatControl(
                position=30:12,
                increment_control=IncrementControl(
                    position=30:12,
                    variable='i',
                    bound_1=IntegerLiteral(
                        position=30:17,
                        value=1
                      ),
                    bound_2=Call(
                        position=30:22,
                        callee=NameRef(
                            position=30:22,
                            identifier='SIZEOF'
                          ),
                        args=[Arg(
                            position=30:29,
                            value=NameRef(
                                position=30:29,
                                identifier='data'
                              )
                          )]
                      )
                  )
              ),
            body=[
                AssignmentStmt(
                  position=31:9,
                  target=NameRef(
                      position=31:9,
                      identifier='validationResult'
                    ),
                  value=Call(
                      position=31:29,
                      callee=NameRef(
                          position=31:29,
                          identifier='checkValue'
                        ),
                      args=[Arg(
                          position=31:40,
                          value=IndexExpr(
                              position=31:40,
                              source=NameRef(
                                  position=31:40,
                                  identifier='data'
                                ),
                              index=NameRef(
                                  position=31:45,
                                  identifier='i'
                                )
                            )
                        )]
                    )
                ),
                IfStmt(
                  position=32:9,
                  condition=UnaryExpr(
                      position=32:12,
                      op=UnaryOp.NOT,
                      operand=NameRef(
                          position=32:16,
                          identifier='validationResult'
                        )
                    ),
                  then=[AssignmentStmt(
                      position=33:13,
                      target=AttributeRef(
                          position=33:13,
                          source=NameRef(
                              position=33:13,
                              identifier='processor'
                            ),
                          identifier='state'
                        ),
                      value=NameRef(
                          position=33:32,
                          identifier='failed'
                        )
                    )],
                  or_else=[]
                )
              ]
          )]
      )
    ],
  constant_definitions=[
      ConstantDefinition(
        position=39:5,
        identifier='maxProcessors',
        type_selection=IntegerType(
            position=39:21
          ),
        init=IntegerLiteral(
            position=39:32,
            value=10
          )
      ),
      ConstantDefinition(
        position=40:5,
        identifier='defaultState',
        type_selection=NamedType(
            position=40:20,
            reference='ProcessingState'
          ),
        init=NameRef(
            position=40:39,
            identifier='idle'
          )
      ),
      ConstantDefinition(
        position=41:5,
        identifier='timeoutDuration',
        type_selection=RealType(
            position=41:23
          ),
        init=RealLiteral(
            position=41:31,
            value=60.0
          )
      ),
      ConstantDefinition(
        position=42:5,
        identifier='maxRetries',
        type_selection=IntegerType(
            position=42:18
          ),
        init=IntegerLiteral(
            position=42:29,
            value=3
          )
      )
    ],
  local_variable_definitions=[
      LocalVariableDefinition(
        position=46:5,
        identifiers=['processors'],
        of_type=ConformantArrayType(
            position=46:18,
            bound_spec=BoundSpec(
                position=46:24,
                lower=IntegerLiteral(
                    position=46:25,
                    value=1
                  ),
                upper=NameRef(
                    position=46:27,
                    identifier='maxProcessors'
                  )
              ),
            optional=False,
            unique=False,
            of=NamedType(
                position=46:45,
                reference='DataProcessor'
              )
          ),
        init=AggregateLiteral(
            position=46:62,
            elements=[]
          )
      ),
      LocalVariableDefinition(
        position=47:5,
        identifiers=['activeProcessors'],
        of_type=ConformantSetType(
            position=47:24,
            bound_spec=BoundSpec(
                position=47:28,
                lower=IntegerLiteral(
                    position=47:29,
                    value=1
                  ),
                upper=NameRef(
                    position=47:31,
                    identifier='maxProcessors'
                  )
              ),
            of=IntegerType(
                position=47:49
              )
          ),
        init=AggregateLiteral(
            position=47:60,
            elements=[]
          )
      ),
      LocalVariableDefinition(
        position=48:5,
        identifiers=['currentProcessor'],
        of_type=NamedType(
            position=48:24,
            reference='DataProcessor'
          )
      ),
      LocalVariableDefinition(
        position=49:5,
        identifiers=['processingStartTime'],
        of_type=RealType(
            position=49:27
          )
      ),
      LocalVariableDefinition(
        position=50:5,
        identifiers=['retryCount'],
        of_type=IntegerType(
            position=50:18
          ),
        init=IntegerLiteral(
            position=50:29,
            value=0
          )
      ),
      LocalVariableDefinition(
        position=51:5,
        identifiers=['globalState'],
        of_type=NamedType(
            position=51:19,
            reference='ProcessingState'
          ),
        init=NameRef(
            position=51:38,
            identifier='defaultState'
          )
      )
    ]
)