CaseStmt(
  position=1:1,
  selector=NameRef(
      position=1:6,
      identifier='processingMode'
    ),
  actions=[
      CaseAction(
        position=2:5,
        labels=[IntegerLiteral(
            position=2:5,
            value=1
          )],
        stmt=RepeatStmt(
            position=2:8,
            control=RepeatControl(
                position=2:15,
                increment_control=IncrementControl(
                    position=2:15,
                    variable='i',
                    bound_1=IntegerLiteral(
                        position=2:20,
                        value=1
                      ),
                    bound_2=NameRef(
                        position=2:25,
                        identifier='itemCount'
                      )
                  )
              ),
            body=[CallStmt(
                position=3:9,
                call=Call(
                    position=3:9,
                    callee=NameRef(
                        position=3:9,
                        identifier='processSequentially'
                      ),
                    args=[Arg(
                        position=3:29,
                        value=IndexExpr(
                            position=3:29,
                            source=NameRef(
                                position=3:29,
                                identifier='items'
                              ),
                            index=NameRef(
                                position=3:35,
                                identifier='i'
                              )
                          )
                      )]
                  )
              )]
          )
      ),
      CaseAction(
        position=5:5,
        labels=[IntegerLiteral(
            position=5:5,
            value=2
          )],
        stmt=RepeatStmt(
            position=5:8,
            control=RepeatControl(
                position=5:15,
                while_control=NameRef(
                    position=5:21,
                    identifier='hasMoreBatches'
                  )
              ),
            body=[
                CallStmt(
                  position=6:9,
                  call=Call(
                      position=6:9,
                      callee=NameRef(
                          position=6:9,
                          identifier='processBatch'
                        ),
                      args=[]
                    )
                ),
                AssignmentStmt(
                  position=7:9,
                  target=NameRef(
                      position=7:9,
                      identifier='hasMoreBatches'
                    ),
                  value=Call(
                      position=7:27,
                      callee=NameRef(
                          position=7:27,
                          identifier='checkForMoreBatches'
                        ),
                      args=[]
                    )
                )
              ]
          )
      )
    ],
  otherwise=CallStmt(
      position=9:16,
      call=Call(
          position=9:16,
          callee=NameRef(
              position=9:16,
              identifier='processDefault'
            ),
          args=[]
        )
    )
)