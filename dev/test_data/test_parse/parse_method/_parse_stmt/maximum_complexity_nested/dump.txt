CompoundStmt(
  position=1:1,
  stmts=[AliasStmt(
      position=2:5,
      variable='dataProcessor',
      target=AttributeRef(
          position=2:29,
          source=NameRef(
              position=2:29,
              identifier='systemComponents'
            ),
          identifier='processor'
        ),
      body=[IfStmt(
          position=3:5,
          condition=AttributeRef(
              position=3:8,
              source=NameRef(
                  position=3:8,
                  identifier='dataProcessor'
                ),
              identifier='isActive'
            ),
          then=[RepeatStmt(
              position=4:9,
              control=RepeatControl(
                  position=4:16,
                  increment_control=IncrementControl(
                      position=4:16,
                      variable='batchIndex',
                      bound_1=IntegerLiteral(
                          position=4:30,
                          value=1
                        ),
                      bound_2=NameRef(
                          position=4:35,
                          identifier='maxBatches'
                        )
                    ),
                  while_control=NameRef(
                      position=4:52,
                      identifier='hasMoreData'
                    ),
                  until_control=NameRef(
                      position=4:70,
                      identifier='errorDetected'
                    )
                ),
              body=[
                  CaseStmt(
                    position=5:13,
                    selector=AttributeRef(
                        position=5:18,
                        source=NameRef(
                            position=5:18,
                            identifier='dataProcessor'
                          ),
                        identifier='mode'
                      ),
                    actions=[
                        CaseAction(
                          position=6:17,
                          labels=[IntegerLiteral(
                              position=6:17,
                              value=1
                            )],
                          stmt=CompoundStmt(
                              position=6:20,
                              stmts=[RepeatStmt(
                                  position=7:21,
                                  control=RepeatControl(
                                      position=7:28,
                                      increment_control=IncrementControl(
                                          position=7:28,
                                          variable='itemIndex',
                                          bound_1=IntegerLiteral(
                                              position=7:41,
                                              value=1
                                            ),
                                          bound_2=NameRef(
                                              position=7:46,
                                              identifier='batchSize'
                                            )
                                        )
                                    ),
                                  body=[IfStmt(
                                      position=8:25,
                                      condition=BinaryExpr(
                                          position=8:28,
                                          left=IndexExpr(
                                              position=8:28,
                                              source=IndexExpr(
                                                  position=8:28,
                                                  source=NameRef(
                                                      position=8:28,
                                                      identifier='inputData'
                                                    ),
                                                  index=NameRef(
                                                      position=8:38,
                                                      identifier='batchIndex'
                                                    )
                                                ),
                                              index=NameRef(
                                                  position=8:50,
                                                  identifier='itemIndex'
                                                )
                                            ),
                                          op=BinaryOp.GREATER_THAN,
                                          right=NameRef(
                                              position=8:63,
                                              identifier='threshold'
                                            )
                                        ),
                                      then=[AssignmentStmt(
                                          position=9:29,
                                          target=IndexExpr(
                                              position=9:29,
                                              source=IndexExpr(
                                                  position=9:29,
                                                  source=NameRef(
                                                      position=9:29,
                                                      identifier='outputData'
                                                    ),
                                                  index=NameRef(
                                                      position=9:40,
                                                      identifier='batchIndex'
                                                    )
                                                ),
                                              index=NameRef(
                                                  position=9:52,
                                                  identifier='itemIndex'
                                                )
                                            ),
                                          value=Call(
                                              position=9:66,
                                              callee=NameRef(
                                                  position=9:66,
                                                  identifier='processComplexItem'
                                                ),
                                              args=[Arg(
                                                  position=9:85,
                                                  value=IndexExpr(
                                                      position=9:85,
                                                      source=IndexExpr(
                                                          position=9:85,
                                                          source=NameRef(
                                                              position=9:85,
                                                              identifier='inputData'
                                                            ),
                                                          index=NameRef(
                                                              position=9:95,
                                                              identifier='batchIndex'
                                                            )
                                                        ),
                                                      index=NameRef(
                                                          position=9:107,
                                                          identifier='itemIndex'
                                                        )
                                                    )
                                                )]
                                            )
                                        )],
                                      or_else=[AssignmentStmt(
                                          position=11:29,
                                          target=IndexExpr(
                                              position=11:29,
                                              source=IndexExpr(
                                                  position=11:29,
                                                  source=NameRef(
                                                      position=11:29,
                                                      identifier='outputData'
                                                    ),
                                                  index=NameRef(
                                                      position=11:40,
                                                      identifier='batchIndex'
                                                    )
                                                ),
                                              index=NameRef(
                                                  position=11:52,
                                                  identifier='itemIndex'
                                                )
                                            ),
                                          value=NameRef(
                                              position=11:66,
                                              identifier='defaultValue'
                                            )
                                        )]
                                    )]
                                )]
                            )
                        ),
                        CaseAction(
                          position=15:17,
                          labels=[IntegerLiteral(
                              position=15:17,
                              value=2
                            )],
                          stmt=CallStmt(
                              position=15:20,
                              call=Call(
                                  position=15:20,
                                  callee=NameRef(
                                      position=15:20,
                                      identifier='processBatchDirectly'
                                    ),
                                  args=[Arg(
                                      position=15:41,
                                      value=IndexExpr(
                                          position=15:41,
                                          source=NameRef(
                                              position=15:41,
                                              identifier='inputData'
                                            ),
                                          index=NameRef(
                                              position=15:51,
                                              identifier='batchIndex'
                                            )
                                        )
                                    )]
                                )
                            )
                        )
                      ],
                    otherwise=EscapeStmt(
                        position=16:28
                      )
                  ),
                  AssignmentStmt(
                    position=18:13,
                    target=NameRef(
                        position=18:13,
                        identifier='hasMoreData'
                      ),
                    value=Call(
                        position=18:28,
                        callee=NameRef(
                            position=18:28,
                            identifier='checkDataAvailability'
                          ),
                        args=[]
                      )
                  ),
                  AssignmentStmt(
                    position=19:13,
                    target=NameRef(
                        position=19:13,
                        identifier='errorDetected'
                      ),
                    value=Call(
                        position=19:30,
                        callee=NameRef(
                            position=19:30,
                            identifier='validateProcessingState'
                          ),
                        args=[]
                      )
                  )
                ]
            )],
          or_else=[ReturnStmt(
              position=22:9,
              value=LogicalLiteral(
                  position=22:16,
                  value=FALSE
                )
            )]
        )]
    )]
)