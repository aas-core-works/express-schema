ProcedureDeclaration(
  position=1:1,
  identifier='advancedProcessing',
  formal_parameters=[
      FormalParameter(
        position=2:9,
        identifiers=['inputData'],
        of_type=ConformantArrayType(
            position=2:21,
            bound_spec=BoundSpec(
                position=2:27,
                lower=IntegerLiteral(
                    position=2:28,
                    value=1
                  ),
                upper=IntegerLiteral(
                    position=2:30,
                    value=100
                  )
              ),
            optional=False,
            unique=False,
            of=RealType(
                position=2:38
              )
          )
      ),
      FormalParameter(
        position=3:9,
        identifiers=['processingMode'],
        of_type=IntegerType(
            position=3:26
          )
      ),
      FormalParameter(
        position=4:9,
        identifiers=['threshold'],
        of_type=RealType(
            position=4:21
          )
      ),
      FormalParameter(
        position=5:13,
        identifiers=['outputData'],
        of_type=ConformantArrayType(
            position=5:26,
            bound_spec=BoundSpec(
                position=5:32,
                lower=IntegerLiteral(
                    position=5:33,
                    value=1
                  ),
                upper=IntegerLiteral(
                    position=5:35,
                    value=100
                  )
              ),
            optional=False,
            unique=False,
            of=RealType(
                position=5:43
              )
          )
      ),
      FormalParameter(
        position=6:13,
        identifiers=['processingStats'],
        of_type=NamedType(
            position=6:31,
            reference='ProcessingStatistics'
          )
      ),
      FormalParameter(
        position=7:13,
        identifiers=['errorFlags'],
        of_type=ConformantArrayType(
            position=7:26,
            bound_spec=BoundSpec(
                position=7:32,
                lower=IntegerLiteral(
                    position=7:33,
                    value=1
                  ),
                upper=IntegerLiteral(
                    position=7:35,
                    value=100
                  )
              ),
            optional=False,
            unique=False,
            of=BooleanType(
                position=7:43
              )
          )
      )
    ],
  head=AlgorithmHead(
      declarations=[],
      constant_definitions=[],
      local_variable_definitions=[
          LocalVariableDefinition(
            position=10:9,
            identifiers=['i'],
            of_type=IntegerType(
                position=10:13
              )
          ),
          LocalVariableDefinition(
            position=11:9,
            identifiers=['processedValue'],
            of_type=RealType(
                position=11:26
              )
          ),
          LocalVariableDefinition(
            position=12:9,
            identifiers=['errorCount'],
            of_type=IntegerType(
                position=12:22
              ),
            init=IntegerLiteral(
                position=12:33,
                value=0
              )
          )
        ]
    ),
  body=[
      AssignmentStmt(
        position=15:5,
        target=AttributeRef(
            position=15:5,
            source=NameRef(
                position=15:5,
                identifier='processingStats'
              ),
            identifier='startTime'
          ),
        value=Call(
            position=15:34,
            callee=NameRef(
                position=15:34,
                identifier='getCurrentTime'
              ),
            args=[]
          )
      ),
      RepeatStmt(
        position=17:5,
        control=RepeatControl(
            position=17:12,
            increment_control=IncrementControl(
                position=17:12,
                variable='i',
                bound_1=IntegerLiteral(
                    position=17:17,
                    value=1
                  ),
                bound_2=IntegerLiteral(
                    position=17:22,
                    value=100
                  )
              )
          ),
        body=[
            AssignmentStmt(
              position=18:9,
              target=NameRef(
                  position=18:9,
                  identifier='processedValue'
                ),
              value=Call(
                  position=18:27,
                  callee=NameRef(
                      position=18:27,
                      identifier='processValue'
                    ),
                  args=[
                      Arg(
                        position=18:40,
                        value=IndexExpr(
                            position=18:40,
                            source=NameRef(
                                position=18:40,
                                identifier='inputData'
                              ),
                            index=NameRef(
                                position=18:50,
                                identifier='i'
                              )
                          )
                      ),
                      Arg(
                        position=18:54,
                        value=NameRef(
                            position=18:54,
                            identifier='processingMode'
                          )
                      )
                    ]
                )
            ),
            IfStmt(
              position=20:9,
              condition=BinaryExpr(
                  position=20:12,
                  left=NameRef(
                      position=20:12,
                      identifier='processedValue'
                    ),
                  op=BinaryOp.GREATER_EQUAL,
                  right=NameRef(
                      position=20:30,
                      identifier='threshold'
                    )
                ),
              then=[
                  AssignmentStmt(
                    position=21:13,
                    target=IndexExpr(
                        position=21:13,
                        source=NameRef(
                            position=21:13,
                            identifier='outputData'
                          ),
                        index=NameRef(
                            position=21:24,
                            identifier='i'
                          )
                      ),
                    value=NameRef(
                        position=21:30,
                        identifier='processedValue'
                      )
                  ),
                  AssignmentStmt(
                    position=22:13,
                    target=IndexExpr(
                        position=22:13,
                        source=NameRef(
                            position=22:13,
                            identifier='errorFlags'
                          ),
                        index=NameRef(
                            position=22:24,
                            identifier='i'
                          )
                      ),
                    value=LogicalLiteral(
                        position=22:30,
                        value=FALSE
                      )
                  )
                ],
              or_else=[
                  AssignmentStmt(
                    position=24:13,
                    target=IndexExpr(
                        position=24:13,
                        source=NameRef(
                            position=24:13,
                            identifier='outputData'
                          ),
                        index=NameRef(
                            position=24:24,
                            identifier='i'
                          )
                      ),
                    value=NameRef(
                        position=24:30,
                        identifier='threshold'
                      )
                  ),
                  AssignmentStmt(
                    position=25:13,
                    target=IndexExpr(
                        position=25:13,
                        source=NameRef(
                            position=25:13,
                            identifier='errorFlags'
                          ),
                        index=NameRef(
                            position=25:24,
                            identifier='i'
                          )
                      ),
                    value=LogicalLiteral(
                        position=25:30,
                        value=TRUE
                      )
                  ),
                  AssignmentStmt(
                    position=26:13,
                    target=NameRef(
                        position=26:13,
                        identifier='errorCount'
                      ),
                    value=BinaryExpr(
                        position=26:27,
                        left=NameRef(
                            position=26:27,
                            identifier='errorCount'
                          ),
                        op=BinaryOp.ADD,
                        right=IntegerLiteral(
                            position=26:40,
                            value=1
                          )
                      )
                  )
                ]
            )
          ]
      ),
      AssignmentStmt(
        position=30:5,
        target=AttributeRef(
            position=30:5,
            source=NameRef(
                position=30:5,
                identifier='processingStats'
              ),
            identifier='endTime'
          ),
        value=Call(
            position=30:32,
            callee=NameRef(
                position=30:32,
                identifier='getCurrentTime'
              ),
            args=[]
          )
      ),
      AssignmentStmt(
        position=31:5,
        target=AttributeRef(
            position=31:5,
            source=NameRef(
                position=31:5,
                identifier='processingStats'
              ),
            identifier='errorCount'
          ),
        value=NameRef(
            position=31:35,
            identifier='errorCount'
          )
      ),
      AssignmentStmt(
        position=32:5,
        target=AttributeRef(
            position=32:5,
            source=NameRef(
                position=32:5,
                identifier='processingStats'
              ),
            identifier='successRate'
          ),
        value=BinaryExpr(
            position=32:37,
            left=BinaryExpr(
                position=32:37,
                left=IntegerLiteral(
                    position=32:37,
                    value=100
                  ),
                op=BinaryOp.SUBTRACT,
                right=NameRef(
                    position=32:43,
                    identifier='errorCount'
                  )
              ),
            op=BinaryOp.REAL_DIVIDE,
            right=RealLiteral(
                position=32:57,
                value=100.0
              )
          )
      )
    ]
)