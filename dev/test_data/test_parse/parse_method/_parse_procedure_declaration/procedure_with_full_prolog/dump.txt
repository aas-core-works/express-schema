ProcedureDeclaration(
  position=1:1,
  identifier='dataValidator',
  formal_parameters=[
      FormalParameter(
        position=1:25,
        identifiers=['input'],
        of_type=ConformantArrayType(
            position=1:33,
            bound_spec=BoundSpec(
                position=1:39,
                lower=IntegerLiteral(
                    position=1:40,
                    value=1
                  ),
                upper=IndeterminateLiteral(
                    position=1:42
                  )
              ),
            optional=False,
            unique=False,
            of=NamedType(
                position=1:48,
                reference='DataRecord'
              )
          )
      ),
      FormalParameter(
        position=1:64,
        identifiers=['output'],
        of_type=ConformantArrayType(
            position=1:73,
            bound_spec=BoundSpec(
                position=1:79,
                lower=IntegerLiteral(
                    position=1:80,
                    value=1
                  ),
                upper=IndeterminateLiteral(
                    position=1:82
                  )
              ),
            optional=False,
            unique=False,
            of=NamedType(
                position=1:88,
                reference='DataRecord'
              )
          )
      ),
      FormalParameter(
        position=1:104,
        identifiers=['validationReport'],
        of_type=NamedType(
            position=1:123,
            reference='ValidationReport'
          )
      )
    ],
  head=AlgorithmHead(
      declarations=[
          TypeDeclaration(
            position=2:5,
            identifier='ValidationLevel',
            type_selection=EnumType(
                position=2:28,
                values=[
                    'basic',
                    'standard',
                    'strict'
                  ]
              ),
            domain_rules=[]
          ),
          TypeDeclaration(
            position=6:5,
            identifier='ValidationRule',
            type_selection=SelectType(
                position=6:27,
                values=[
                    NamedType(
                      position=7:9,
                      reference='RangeRule'
                    ),
                    NamedType(
                      position=8:9,
                      reference='FormatRule'
                    ),
                    NamedType(
                      position=9:9,
                      reference='ConsistencyRule'
                    )
                  ]
              ),
            domain_rules=[]
          ),
          FunctionDeclaration(
            position=12:5,
            identifier='applyValidationRule',
            formal_parameters=[
                FormalParameter(
                  position=12:34,
                  identifiers=['record'],
                  of_type=NamedType(
                      position=12:43,
                      reference='DataRecord'
                    )
                ),
                FormalParameter(
                  position=12:55,
                  identifiers=['criterion'],
                  of_type=NamedType(
                      position=12:67,
                      reference='ValidationRule'
                    )
                )
              ],
            return_type=BooleanType(
                position=12:85
              ),
            head=AlgorithmHead(
                declarations=[],
                constant_definitions=[],
                local_variable_definitions=[]
              ),
            body=[ReturnStmt(
                position=13:9,
                value=LogicalLiteral(
                    position=13:16,
                    value=TRUE
                  )
              )]
          ),
          ProcedureDeclaration(
            position=16:5,
            identifier='logValidationError',
            formal_parameters=[
                FormalParameter(
                  position=16:34,
                  identifiers=['record'],
                  of_type=NamedType(
                      position=16:43,
                      reference='DataRecord'
                    )
                ),
                FormalParameter(
                  position=16:55,
                  identifiers=['criterion'],
                  of_type=NamedType(
                      position=16:67,
                      reference='ValidationRule'
                    )
                )
              ],
            head=AlgorithmHead(
                declarations=[],
                constant_definitions=[],
                local_variable_definitions=[]
              ),
            body=[AssignmentStmt(
                position=17:9,
                target=AttributeRef(
                    position=17:9,
                    source=NameRef(
                        position=17:9,
                        identifier='validationReport'
                      ),
                    identifier='errorCount'
                  ),
                value=BinaryExpr(
                    position=17:40,
                    left=AttributeRef(
                        position=17:40,
                        source=NameRef(
                            position=17:40,
                            identifier='validationReport'
                          ),
                        identifier='errorCount'
                      ),
                    op=BinaryOp.ADD,
                    right=IntegerLiteral(
                        position=17:70,
                        value=1
                      )
                  )
              )]
          )
        ],
      constant_definitions=[
          ConstantDefinition(
            position=21:9,
            identifier='defaultValidationLevel',
            type_selection=NamedType(
                position=21:34,
                reference='ValidationLevel'
              ),
            init=NameRef(
                position=21:53,
                identifier='standard'
              )
          ),
          ConstantDefinition(
            position=22:9,
            identifier='maxErrors',
            type_selection=IntegerType(
                position=22:21
              ),
            init=IntegerLiteral(
                position=22:32,
                value=10
              )
          ),
          ConstantDefinition(
            position=23:9,
            identifier='timeoutDuration',
            type_selection=RealType(
                position=23:27
              ),
            init=RealLiteral(
                position=23:35,
                value=60.0
              )
          )
        ],
      local_variable_definitions=[
          LocalVariableDefinition(
            position=27:9,
            identifiers=['validatedRecords'],
            of_type=ConformantArrayType(
                position=27:28,
                bound_spec=BoundSpec(
                    position=27:34,
                    lower=IntegerLiteral(
                        position=27:35,
                        value=1
                      ),
                    upper=IntegerLiteral(
                        position=27:37,
                        value=1000
                      )
                  ),
                optional=False,
                unique=False,
                of=NamedType(
                    position=27:46,
                    reference='DataRecord'
                  )
              ),
            init=AggregateLiteral(
                position=27:60,
                elements=[]
              )
          ),
          LocalVariableDefinition(
            position=28:9,
            identifiers=['validationRules'],
            of_type=ConformantSetType(
                position=28:27,
                bound_spec=BoundSpec(
                    position=28:31,
                    lower=IntegerLiteral(
                        position=28:32,
                        value=1
                      ),
                    upper=IntegerLiteral(
                        position=28:34,
                        value=20
                      )
                  ),
                of=NamedType(
                    position=28:41,
                    reference='ValidationRule'
                  )
              ),
            init=AggregateLiteral(
                position=28:59,
                elements=[]
              )
          ),
          LocalVariableDefinition(
            position=29:9,
            identifiers=['currentRecord'],
            of_type=NamedType(
                position=29:25,
                reference='DataRecord'
              )
          ),
          LocalVariableDefinition(
            position=30:9,
            identifiers=['currentCriterion'],
            of_type=NamedType(
                position=30:28,
                reference='ValidationRule'
              )
          ),
          LocalVariableDefinition(
            position=31:9,
            identifiers=['validationResult'],
            of_type=BooleanType(
                position=31:28
              )
          ),
          LocalVariableDefinition(
            position=32:9,
            identifiers=['validCount'],
            of_type=IntegerType(
                position=32:22
              ),
            init=IntegerLiteral(
                position=32:33,
                value=0
              )
          ),
          LocalVariableDefinition(
            position=33:9,
            identifiers=[
                'i',
                'j'
              ],
            of_type=IntegerType(
                position=33:16
              )
          )
        ]
    ),
  body=[
      AssignmentStmt(
        position=36:5,
        target=AttributeRef(
            position=36:5,
            source=NameRef(
                position=36:5,
                identifier='validationReport'
              ),
            identifier='errorCount'
          ),
        value=IntegerLiteral(
            position=36:36,
            value=0
          )
      ),
      AssignmentStmt(
        position=37:5,
        target=AttributeRef(
            position=37:5,
            source=NameRef(
                position=37:5,
                identifier='validationReport'
              ),
            identifier='validationLevel'
          ),
        value=NameRef(
            position=37:41,
            identifier='defaultValidationLevel'
          )
      ),
      CallStmt(
        position=38:5,
        call=Call(
            position=38:5,
            callee=NameRef(
                position=38:5,
                identifier='loadValidationRules'
              ),
            args=[Arg(
                position=38:25,
                value=NameRef(
                    position=38:25,
                    identifier='validationRules'
                  )
              )]
          )
      ),
      RepeatStmt(
        position=40:5,
        control=RepeatControl(
            position=40:12,
            increment_control=IncrementControl(
                position=40:12,
                variable='i',
                bound_1=IntegerLiteral(
                    position=40:17,
                    value=1
                  ),
                bound_2=Call(
                    position=40:22,
                    callee=NameRef(
                        position=40:22,
                        identifier='SIZEOF'
                      ),
                    args=[Arg(
                        position=40:29,
                        value=NameRef(
                            position=40:29,
                            identifier='input'
                          )
                      )]
                  )
              )
          ),
        body=[
            AssignmentStmt(
              position=41:9,
              target=NameRef(
                  position=41:9,
                  identifier='currentRecord'
                ),
              value=IndexExpr(
                  position=41:26,
                  source=NameRef(
                      position=41:26,
                      identifier='input'
                    ),
                  index=NameRef(
                      position=41:32,
                      identifier='i'
                    )
                )
            ),
            AssignmentStmt(
              position=42:9,
              target=NameRef(
                  position=42:9,
                  identifier='validationResult'
                ),
              value=LogicalLiteral(
                  position=42:29,
                  value=TRUE
                )
            ),
            RepeatStmt(
              position=44:9,
              control=RepeatControl(
                  position=44:16,
                  increment_control=IncrementControl(
                      position=44:16,
                      variable='j',
                      bound_1=IntegerLiteral(
                          position=44:21,
                          value=1
                        ),
                      bound_2=Call(
                          position=44:26,
                          callee=NameRef(
                              position=44:26,
                              identifier='SIZEOF'
                            ),
                          args=[Arg(
                              position=44:33,
                              value=NameRef(
                                  position=44:33,
                                  identifier='validationRules'
                                )
                            )]
                        )
                    )
                ),
              body=[
                  AssignmentStmt(
                    position=45:13,
                    target=NameRef(
                        position=45:13,
                        identifier='currentCriterion'
                      ),
                    value=IndexExpr(
                        position=45:33,
                        source=NameRef(
                            position=45:33,
                            identifier='validationRules'
                          ),
                        index=NameRef(
                            position=45:49,
                            identifier='j'
                          )
                      )
                  ),
                  IfStmt(
                    position=46:13,
                    condition=UnaryExpr(
                        position=46:16,
                        op=UnaryOp.NOT,
                        operand=Call(
                            position=46:20,
                            callee=NameRef(
                                position=46:20,
                                identifier='applyValidationRule'
                              ),
                            args=[
                                Arg(
                                  position=46:40,
                                  value=NameRef(
                                      position=46:40,
                                      identifier='currentRecord'
                                    )
                                ),
                                Arg(
                                  position=46:55,
                                  value=NameRef(
                                      position=46:55,
                                      identifier='currentCriterion'
                                    )
                                )
                              ]
                          )
                      ),
                    then=[
                        AssignmentStmt(
                          position=47:17,
                          target=NameRef(
                              position=47:17,
                              identifier='validationResult'
                            ),
                          value=LogicalLiteral(
                              position=47:37,
                              value=FALSE
                            )
                        ),
                        CallStmt(
                          position=48:17,
                          call=Call(
                              position=48:17,
                              callee=NameRef(
                                  position=48:17,
                                  identifier='logValidationError'
                                ),
                              args=[
                                  Arg(
                                    position=48:36,
                                    value=NameRef(
                                        position=48:36,
                                        identifier='currentRecord'
                                      )
                                  ),
                                  Arg(
                                    position=48:51,
                                    value=NameRef(
                                        position=48:51,
                                        identifier='currentCriterion'
                                      )
                                  )
                                ]
                            )
                        ),
                        IfStmt(
                          position=49:17,
                          condition=BinaryExpr(
                              position=49:20,
                              left=AttributeRef(
                                  position=49:20,
                                  source=NameRef(
                                      position=49:20,
                                      identifier='validationReport'
                                    ),
                                  identifier='errorCount'
                                ),
                              op=BinaryOp.GREATER_EQUAL,
                              right=NameRef(
                                  position=49:51,
                                  identifier='maxErrors'
                                )
                            ),
                          then=[ReturnStmt(
                              position=50:21
                            )],
                          or_else=[]
                        )
                      ],
                    or_else=[]
                  )
                ]
            ),
            IfStmt(
              position=55:9,
              condition=NameRef(
                  position=55:12,
                  identifier='validationResult'
                ),
              then=[
                  AssignmentStmt(
                    position=56:13,
                    target=NameRef(
                        position=56:13,
                        identifier='validCount'
                      ),
                    value=BinaryExpr(
                        position=56:27,
                        left=NameRef(
                            position=56:27,
                            identifier='validCount'
                          ),
                        op=BinaryOp.ADD,
                        right=IntegerLiteral(
                            position=56:40,
                            value=1
                          )
                      )
                  ),
                  AssignmentStmt(
                    position=57:13,
                    target=IndexExpr(
                        position=57:13,
                        source=NameRef(
                            position=57:13,
                            identifier='validatedRecords'
                          ),
                        index=NameRef(
                            position=57:30,
                            identifier='validCount'
                          )
                      ),
                    value=NameRef(
                        position=57:45,
                        identifier='currentRecord'
                      )
                  )
                ],
              or_else=[]
            )
          ]
      ),
      AssignmentStmt(
        position=61:5,
        target=NameRef(
            position=61:5,
            identifier='output'
          ),
        value=NameRef(
            position=61:15,
            identifier='validatedRecords'
          )
      ),
      AssignmentStmt(
        position=62:5,
        target=AttributeRef(
            position=62:5,
            source=NameRef(
                position=62:5,
                identifier='validationReport'
              ),
            identifier='validRecordCount'
          ),
        value=NameRef(
            position=62:42,
            identifier='validCount'
          )
      )
    ]
)